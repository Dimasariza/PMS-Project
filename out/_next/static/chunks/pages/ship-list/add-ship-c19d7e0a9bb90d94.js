(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2598],{68852:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var s=n(a(64938)),r=a(85893),i=(0,s.default)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackTwoTone");t.Z=i},10258:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var s=n(a(64938)),r=a(85893),i=(0,s.default)([(0,r.jsx)("path",{d:"M5 5v14h14V7.83L16.17 5H5zm7 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-8H6V6h9v4z",opacity:".3"},"0"),(0,r.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"},"1")],"SaveTwoTone");t.Z=i},76742:function(e,t,a){"use strict";var n=a(64836);t.Z=void 0;var s=n(a(64938)),r=a(85893),i=(0,s.default)([(0,r.jsx)("path",{d:"M9.83 8H11v6h2V8h1.17L12 5.83z",opacity:".3"},"0"),(0,r.jsx)("path",{d:"m12 3-7 7h4v6h6v-6h4l-7-7zm1 5v6h-2V8H9.83L12 5.83 14.17 8H13zM5 18h14v2H5z"},"1")],"UploadTwoTone");t.Z=i},78445:function(e,t,a){"use strict";a.d(t,{Z:function(){return w}});var n=a(63366),s=a(87462),r=a(67294),i=a(63961),l=a(94780),o=a(15861),d=a(71657),c=a(90948),p=a(1588),h=a(34867);function u(e){return(0,h.Z)("MuiCardHeader",e)}let m=(0,p.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var x=a(85893);let g=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],v=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},u,t)},y=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,s.Z)({[`& .${m.title}`]:t.title,[`& .${m.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),b=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Z=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),j=r.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:r,avatar:l,className:c,component:p="div",disableTypography:h=!1,subheader:u,subheaderTypographyProps:m,title:j,titleTypographyProps:w}=a,T=(0,n.Z)(a,g),C=(0,s.Z)({},a,{component:p,disableTypography:h}),S=v(C),H=j;null==H||H.type===o.Z||h||(H=(0,x.jsx)(o.Z,(0,s.Z)({variant:l?"body2":"h5",className:S.title,component:"span",display:"block"},w,{children:H})));let N=u;return null==N||N.type===o.Z||h||(N=(0,x.jsx)(o.Z,(0,s.Z)({variant:l?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},m,{children:N}))),(0,x.jsxs)(y,(0,s.Z)({className:(0,i.Z)(S.root,c),as:p,ref:t,ownerState:C},T,{children:[l&&(0,x.jsx)(b,{className:S.avatar,ownerState:C,children:l}),(0,x.jsxs)(Z,{className:S.content,ownerState:C,children:[H,N]}),r&&(0,x.jsx)(f,{className:S.action,ownerState:C,children:r})]}))});var w=j},5984:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ship-list/add-ship",function(){return a(57706)}])},57706:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var n=a(85893),s=a(9008),r=a.n(s),i=a(67346),l=a(86886),o=a(15861),d=a(11057),c=a(41664),p=a.n(c),h=a(10258),u=a(68852),m=function(e){let{postData:t}=e;return(0,n.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(l.ZP,{item:!0,children:(0,n.jsx)(o.Z,{variant:"subtitle2",children:"Ship List/Add Ship"})}),(0,n.jsxs)(l.ZP,{item:!0,children:[(0,n.jsx)(p(),{href:"/ship-list",passHref:!0,children:(0,n.jsx)(d.Z,{sx:{mt:{xs:2,md:0},marginRight:2},variant:"contained",startIcon:(0,n.jsx)(u.Z,{fontSize:"small"}),children:"Back"})}),(0,n.jsx)(d.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,n.jsx)(h.Z,{fontSize:"small"}),onClick(){t()},children:"Save Ship"})]})]})},x=a(69598),g=a(65582),v=a(1573),y=a(67294),b=a(66242),f=a(78445),Z=a(67720),j=a(50135),w=a(98396),T=a(73865),C=function(e){let{handleUpdate:t,shownPic:a}=e,s=(0,w.Z)(e=>e.breakpoints.down("sm")),r=(0,w.Z)(e=>e.breakpoints.between("sm","md")),i=(0,w.Z)(e=>e.breakpoints.up("lg")),l=s?0:r?1:i?3:2;return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"2vh"},children:[(0,n.jsxs)("div",{style:{width:l>=2?"50%":"100%"},children:[(0,n.jsxs)(b.Z,{sx:{paddingBottom:"2%"},children:[(0,n.jsx)(f.Z,{title:"Add Ship"}),(0,n.jsx)(Z.Z,{}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",padding:"1rem 1rem",width:"100%",gap:"1rem"},children:[{label:"Vessel Name",onChange:"vesselName"},{label:"IMO Number",onChange:"IMO_Number"},{label:"Year Built",onChange:"yearBuilt",type:"number"},{label:"Flag",onChange:"flag"},{label:"DWT",onChange:"DWT",type:"number"},{label:"Gross Tonages",onChange:"grossTonage",type:"number"},{label:"Call Sign",onChange:"callSign"},{label:"LOA (m)",onChange:"LOA",type:"number"},{label:"Breadth (m)",onChange:"breadth",type:"number"},{label:"Vessel Type Generic",onChange:"vesselTypeGeneric"},{label:"Vessel Type Detailed",onChange:"vesselTypeDetailed"}].map((e,a)=>{let{label:s,onChange:r,type:i}=e;return(0,n.jsx)(j.Z,{sx:{width:"100%"},required:!0,id:"outlined-required",label:s,onChange:t(r),type:null!=i?i:"text"},a)})})]}),(0,n.jsx)("div",{style:{display:l<2?"block":"none",width:l<2?"100%":"0%",height:"50vh",minHeight:"400px",maxHeight:"550px",marginTop:"5%"},children:(0,n.jsx)(T.Z,{picLink:a,handleUpdate:t})})]}),(0,n.jsx)("div",{style:{display:l>=2?"block":"none",width:l>=2?"50%":"0%",height:"50vh",minHeight:"400px",maxHeight:"550px"},children:(0,n.jsx)(T.Z,{picLink:a,handleUpdate:t})})]})},S=a(6154),H=a(11163);function N(){let e=(0,H.useRouter)(),[t,a]=(0,y.useState)({vesselName:"",IMO_Number:"",yearBuilt:"",flag:"",DWT:"",grossTonage:"",callSign:"",LOA:"",breadth:"",vesselTypeGeneric:"",vesselTypeDetailed:"",vesselImage:""}),s=e=>t=>{"vesselImage"==e?a(a=>({...a,[e]:t})):a(a=>({...a,[e]:t.target.value}))},[i,o]=(0,y.useState)("");(0,y.useEffect)(()=>{""==t.vesselImage?o(""):o(URL.createObjectURL(t.vesselImage))},[t]);let d=async()=>{let a=new FormData;a.append("imoNumber",t.IMO_Number),a.append("vesselName",t.vesselName),a.append("flag",t.flag),a.append("picture",t.vesselImage),a.append("dwt",parseInt(t.DWT)),a.append("grossTonage",parseInt(t.grossTonage)),a.append("year",parseInt(t.yearBuilt)),a.append("callsign",t.callSign),a.append("LOA",parseFloat(t.LOA)),a.append("breadth",parseFloat(t.breadth)),a.append("vesselTypeGeneric",t.vesselTypeGeneric),a.append("vesselTypeDetailed",t.vesselTypeDetailed);try{await S.Z.post("https://batera.synology.me:82/api/v2/ship",a),e.replace("/ship-list")}catch(n){}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r(),{children:(0,n.jsx)("title",{children:"Add Ship"})}),(0,n.jsx)(x.Z,{children:(0,n.jsx)(m,{postData:d})}),(0,n.jsx)(g.Z,{maxWidth:"lg",children:(0,n.jsx)(l.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,n.jsx)(l.ZP,{item:!0,xs:12,children:(0,n.jsx)(C,{inputedUser:t,setInputedUser:a,handleUpdate:s,shownPic:i,setShowPic:o})})})}),(0,n.jsx)(v.Z,{})]})}N.getLayout=e=>(0,n.jsx)(i.Z,{children:e});var I=N},73865:function(e,t,a){"use strict";a.d(t,{Z:function(){return x}});var n=a(85893),s=a(66242),r=a(78445),i=a(67720),l=a(87952),o=a(2734),d=a(93946),c=a(76742),p=a(90948),h=a(67294);let u=e=>{let{onUpload:t}=e,a=(0,o.Z)(),s={button:{backgroundColor:a.colors.primary.main,color:a.palette.primary.contrastText,boxShadow:a.colors.shadows.primary,borderRadius:"50%",height:{xs:"70%",sm:"70%",md:"70%",lg:"70%"},aspectRatio:"1/1",width:{xs:"70%",sm:"70%",md:"70%",lg:"70%"}},icon:{fontSize:"40"},input:{display:"none"}},[r,i]=(0,h.useState)(""),l=(0,h.useRef)(null),u=()=>{l&&l.current&&l.current.click()},m=e=>{let a=e.target.files[0];i(a.name),t(a)},x=(0,p.ZP)("input")({display:"none"});return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",alignItems:"center",padding:"1%",height:"20%"},children:[(0,n.jsx)(d.Z,{style:s.button,color:"primary",onClick:u,children:(0,n.jsx)(c.Z,{style:s.icon})}),(0,n.jsx)(x,{style:s.input,type:"file",ref:l,onChange:m})]})},m=e=>{let{title:t="Add Ship Picture",target:a="vesselImage",handleUpdate:o,picLink:d}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Z,{sx:{height:"100%"},children:[(0,n.jsx)(r.Z,{title:t}),(0,n.jsx)(i.Z,{}),(0,n.jsx)("div",{style:{margin:"auto",display:"flex",justifyContent:"center"},children:(0,n.jsx)(l.Z,{variant:"rounded",src:d,sx:{width:{xs:"60%",sm:"60%",md:"60%",lg:"60%"},height:{xs:"60%",sm:"60%",md:"60%",lg:"60%"},aspectRatio:"4/3"}})})]}),(0,n.jsx)("div",{style:{position:"relative",bottom:"5rem",right:"1rem"},children:(0,n.jsx)(u,{onUpload:o(a)})})]})};var x=m}},function(e){e.O(0,[2456,896,5951,4738,1133,135,456,1529,8977,6236,8955,9774,2888,179],function(){return e(e.s=5984)}),_N_E=e.O()}]);