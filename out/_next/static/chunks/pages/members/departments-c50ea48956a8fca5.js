(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4387],{47017:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),o=n(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");t.Z=i},17176:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),o=n(85893),i=(0,a.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckTwoTone");t.Z=i},44267:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(87462),a=n(63366),o=n(67294),i=n(63961),s=n(94780),l=n(90948),c=n(71657),d=n(1588),p=n(34867);function u(e){return(0,p.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var m=n(85893);let h=["className","component"],x=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},u,t)},g=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=o.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:o,component:s="div"}=n,l=(0,a.Z)(n,h),d=(0,r.Z)({},n,{component:s}),p=x(d);return(0,m.jsx)(g,(0,r.Z)({as:s,className:(0,i.Z)(p.root,o),ownerState:d,ref:t},l))});var v=Z},84592:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(1588),a=n(34867);function o(e){return(0,a.Z)("MuiListItemIcon",e)}let i=(0,r.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.Z=i},18972:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(63366),a=n(87462),o=n(67294),i=n(63961),s=n(94780),l=n(41796),c=n(90948),d=n(71657),p=n(59773),u=n(82607),m=n(58974),h=n(51705),x=n(35097),g=n(84592),Z=n(26336),v=n(1588),f=n(34867);function j(e){return(0,f.Z)("MuiMenuItem",e)}let y=(0,v.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var b=n(85893);let C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},k=e=>{let{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:l}=e,c=(0,s.Z)({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},j,l);return(0,a.Z)({},l,c)},P=(0,c.ZP)(u.Z,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:w})(({theme:e,ownerState:t})=>(0,a.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${y.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${y.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${y.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${x.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${x.Z.inset}`]:{marginLeft:52},[`& .${Z.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.Z.inset}`]:{paddingLeft:36},[`& .${g.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${g.Z.root} svg`]:{fontSize:"1.25rem"}}))),N=o.forwardRef(function(e,t){let n;let s=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:u=!1,divider:x=!1,disableGutters:g=!1,focusVisibleClassName:Z,role:v="menuitem",tabIndex:f,className:j}=s,y=(0,r.Z)(s,C),w=o.useContext(p.Z),N=o.useMemo(()=>({dense:u||w.dense||!1,disableGutters:g}),[w.dense,u,g]),I=o.useRef(null);(0,m.Z)(()=>{l&&I.current&&I.current.focus()},[l]);let M=(0,a.Z)({},s,{dense:N.dense,divider:x,disableGutters:g}),O=k(s),B=(0,h.Z)(I,t);return s.disabled||(n=void 0!==f?f:-1),(0,b.jsx)(p.Z.Provider,{value:N,children:(0,b.jsx)(P,(0,a.Z)({ref:B,role:v,tabIndex:n,component:c,focusVisibleClassName:(0,i.Z)(O.focusVisible,Z),className:(0,i.Z)(O.root,j)},y,{ownerState:M,classes:O}))})});var I=N},10340:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/members/departments",function(){return n(81498)}])},81498:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(85893),a=n(9008),o=n.n(a),i=n(67346),s=n(86886),l=n(15861),c=n(11057),d=n(41664),p=n.n(d),u=n(47017),m=n(83454),h=function(){let e=m.env.PUBLIC_URL||"";return(0,r.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(s.ZP,{item:!0,children:[(0,r.jsx)(l.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Department"}),(0,r.jsx)(l.Z,{variant:"subtitle2",children:"Members/Department"})]}),(0,r.jsx)(s.ZP,{item:!0,children:(0,r.jsx)(p(),{href:e+"/batera/members/departments/add-departments",passHref:!0,children:(0,r.jsx)(c.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,r.jsx)(u.Z,{fontSize:"small"}),children:"Add Department"})})})]})},x=n(69598),g=n(65582),Z=n(1573),v=n(66242),f=n(67294);n(92077);var j=n(45697),y=n.n(j),b=n(2734),C=n(78445),w=n(87357),k=n(67720),P=n(72882),N=n(7906),I=n(53184),M=n(53816),O=n(53252),B=n(295),$=n(47171);n(12313);let D=(e,t)=>e.filter(e=>{let n=!0;return t.status&&e.status!==t.status&&(n=!1),n}),S=(e,t,n)=>e.slice(t*n,t*n+n),R=e=>{let{departmentList:t,handleOpen:n}=e,[a,o]=(0,f.useState)(0),[i,s]=(0,f.useState)(5),[c,d]=(0,f.useState)({status:null}),p=(e,t)=>{o(t)},u=e=>{s(parseInt(e.target.value))},m=D(t,c),h=S(m,a,i);return(0,b.Z)(),(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(C.Z,{action:(0,r.jsx)(w.Z,{width:150}),title:"Department"}),(0,r.jsx)(k.Z,{}),(0,r.jsx)(P.Z,{children:(0,r.jsxs)(N.Z,{children:[(0,r.jsx)(I.Z,{children:(0,r.jsxs)(M.Z,{children:[(0,r.jsx)(O.Z,{children:"No."}),(0,r.jsx)(O.Z,{children:"Department Code"}),(0,r.jsx)(O.Z,{children:"Department Name"}),(0,r.jsx)(O.Z,{children:"Workplace"})]})}),(0,r.jsx)(B.Z,{children:h.map((e,t)=>(0,r.jsxs)(M.Z,{hover:!0,onClick:()=>n(e),children:[(0,r.jsx)(O.Z,{children:(0,r.jsx)(l.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:a*i+t+1})}),(0,r.jsx)(O.Z,{children:(0,r.jsx)(l.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.departmentCode})}),(0,r.jsx)(O.Z,{children:(0,r.jsx)(l.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.departmentName})}),(0,r.jsx)(O.Z,{children:(0,r.jsx)(l.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.workplace})})]},"department|"+e.id+"|"+e.departmentName))})]})}),(0,r.jsx)(w.Z,{p:2,children:(0,r.jsx)($.Z,{component:"div",count:m.length,onPageChange:p,onRowsPerPageChange:u,page:a,rowsPerPage:i,rowsPerPageOptions:[5,10,25,30]})})]})};R.propTypes={departmentList:y().array.isRequired},R.defaultProps={departmentList:[]};var T=n(93946),F=n(44267),L=n(83419),W=n(50657);n(87998),n(51446);var _=n(11163),A=n(98236),z=n(28558);function H(e){(0,_.useRouter)();let{onClose:t,selectedValue:n,open:a,deleteData:o,updateData:i,handleUpdate:d}=e,p=()=>{t(n)};return(0,r.jsx)(W.Z,{onClose:p,open:a,maxWidth:"md",children:(0,r.jsx)("div",{children:(0,r.jsxs)(v.Z,{children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"2% 2% 2% 3%"},children:[(0,r.jsx)(l.Z,{align:"left",variant:"h3",style:{width:"100%",height:"100%",fontWeight:"bold"},sx:{fontSize:{xs:"15px",sm:"25px"}},children:"Department Details"}),(0,r.jsx)(T.Z,{align:"right",onClick:p,variant:"contained",color:"primary",style:{height:"50%",backgroundColor:"#FF5AD9"},children:(0,r.jsx)(L.Z,{fontSize:"small",style:{color:"white"}})})]}),(0,r.jsx)(k.Z,{}),(0,r.jsxs)(F.Z,{children:[(0,r.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"row",gap:"5%",padding:"1%"},children:(0,r.jsx)(l.Z,{variant:"subtitle2",sx:{width:"100%"},children:(0,r.jsxs)(s.ZP,{container:!0,spacing:0,alignItems:"stretch",children:[(0,r.jsx)(A.Z,{title:"Department Code:",value:n.departmentCode,handleEntryUpdate:e=>d("departmentCode",e)}),(0,r.jsx)(A.Z,{title:"Department Name:",value:n.departmentName,handleEntryUpdate:e=>d("departmentName",e)}),(0,r.jsx)(z.Z,{title:"Workplace:",value:n.workplace,handleEntryUpdate(e){console.log("Try handle update"),d("workplace",e)},options:[{text:"Office",value:"office"},{text:"Ship",value:"ship"}]})]})})}),(0,r.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"row",gap:"5%",padding:"1%",justifyContent:"center",alignItems:"center"},children:[(0,r.jsx)(c.Z,{variant:"contained",color:"primary",style:{width:"45%"},onClick(){i(n),p()},children:"Update"}),(0,r.jsx)(c.Z,{variant:"contained",color:"primary",style:{width:"45%",backgroundColor:"#FF5AD9"},onClick(){o(n.id),p()},children:"Delete"})]})]})]})})})}n(83454).env.PUBLIC_URL,H.propTypes={onClose:y().func.isRequired,open:y().bool.isRequired,selectedValue:y().string.isRequired,shipName:y().string.isRequired};var q=n(6154),E=n(95519),V=function(){(0,_.useRouter)();let{user:e}=(0,f.useContext)(E.l),[t,n]=(0,f.useState)([]),[a,o]=(0,f.useState)(!1),i=async()=>{try{let t=await q.Z.get("http://127.0.0.1:8000/api/v1/department",{headers:{Authorization:"Bearer ".concat(e.token)}}),r=t.data.data.results,a=[];r.map((e,t)=>{a.push({id:e.id,departmentCode:e.code,departmentName:e.name,workplace:e.workPlace})}),n(a)}catch(o){}},s=async t=>{try{let n=await q.Z.delete("http://127.0.0.1:8000/api/v1/department/".concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}});console.log(n),Z(t),i()}catch(r){console.log(r)}},l=async t=>{try{let n={departmentName:t.departmentName,departmentCode:t.departmentCode,workPlace:t.workplace},r=await q.Z.put("http://127.0.0.1:8000/api/v1/department/".concat(t.id),n,{headers:{Authorization:"Bearer ".concat(e.token)}});console.log(r),g(t),i()}catch(a){console.log(a)}};(0,f.useEffect)(()=>{i()},[]);let[c,d]=(0,f.useState)(!1),[p,u]=(0,f.useState)({id:"0",departmentCode:"500",departmentName:"Manager",workplace:"Office"}),m=e=>{u(e),d(!0)},h=e=>{d(!1),u(e)},x=(e,t)=>{n(n=>{let r=n.map(n=>n.id===p.id?{...n,[e]:t}:n);return r}),u(n=>({...n,[e]:t}))},g=e=>{n(t=>{let n=t.map(t=>t.id===e.id?{newData:e}:t);return n})},Z=e=>{n(t=>{let n=[];return t.forEach(t=>{t.id!==e&&n.push(t)}),n})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{children:(0,r.jsx)(R,{departmentList:t,handleOpen:m})}),(0,r.jsx)(H,{selectedValue:p,open:c,onClose:h,deleteData:s,handleUpdate:x,updateData:l})]})};function U(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Department"})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(h,{})}),(0,r.jsx)(g.Z,{maxWidth:"lg",children:(0,r.jsx)(s.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsx)(V,{})})})}),(0,r.jsx)(Z.Z,{})]})}U.getLayout=e=>(0,r.jsx)(i.Z,{children:e});var G=U},98236:function(e,t,n){"use strict";var r=n(85893),a=n(86886),o=n(87357),i=n(50135),s=n(93946),l=n(83419);n(41664);var c=n(87998),d=n(67294),p=n(17176);let u=e=>{let{title:t,value:n,handleEntryUpdate:u,gridSizes:m=[6,6,5,6,6,7],typeIsNumber:h=!1}=e,[x,g]=(0,d.useState)(!1),[Z,v]=(0,d.useState)(n);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.ZP,{item:!0,xs:m[0],sm:m[1],md:m[2],textAlign:{sm:"left"},children:(0,r.jsx)(o.Z,{pr:3,pb:2,minHeight:"5vh",children:t})}),(0,r.jsx)(a.ZP,{item:!0,xs:m[3],sm:m[4],md:m[5],children:(0,r.jsxs)(o.Z,{minHeight:"5vh",children:[(0,r.jsx)("div",{style:{display:x?"none":"block"},onClick:()=>g(e=>!e),children:(0,r.jsx)(c.Z,{color:"black",width:"100%",children:(0,r.jsx)("b",{children:n})})}),(0,r.jsxs)("div",{style:{display:x?"block":"none"},children:[(0,r.jsx)(i.Z,{sx:{width:{xs:"60%",md:"76%"},paddingBottom:"2%"},required:!0,id:"standard-required",variant:"standard",defaultValue:n,onChange:e=>v(e.target.value),type:h?"number":"text"}),(0,r.jsx)(s.Z,{sx:{width:{xs:"20%",md:"12%"},paddingBottom:"2%"},onClick(){g(!1),u(Z)},children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(s.Z,{sx:{width:{xs:"20%",md:"12%"},paddingBottom:"2%"},onClick:()=>g(!1),children:(0,r.jsx)(l.Z,{})})]})]})})]})};t.Z=u},28558:function(e,t,n){"use strict";var r=n(85893),a=n(86886),o=n(87357),i=n(50135);n(41664),n(87998),n(67294);let s=e=>{let{title:t,value:n,handleEntryUpdate:s,gridSizes:l=[6,6,5,6,6,7],options:c=[{text:"A",value:"A"},{text:"B",value:"B"}]}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.ZP,{item:!0,xs:l[0],sm:l[1],md:l[2],textAlign:{sm:"left"},children:(0,r.jsx)(o.Z,{pr:3,pb:2,minHeight:"5vh",children:t})}),(0,r.jsx)(a.ZP,{item:!0,xs:l[3],sm:l[4],md:l[5],children:(0,r.jsx)(o.Z,{minHeight:"5vh",children:(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{id:"outlined-select-currency-native",select:!0,value:n,onChange(e){console.log("ON CHANGE Grid"),console.log(e.target.value),s(e.target.value)},SelectProps:{native:!0},size:"small",sx:{width:"100%",marginBottom:"5%"},children:c.map(e=>(0,r.jsx)("option",{value:e.value,children:e.text},e.text))})})})})]})};t.Z=s},51446:function(e,t,n){"use strict";var r=n(85893),a=n(86886),o=n(87357);n(41664);var i=n(87998);n(67294);let s=e=>{let{title:t,value:n,gridSizes:s=[6,6,5,6,6,7]}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.ZP,{item:!0,xs:s[0],sm:s[1],md:s[2],textAlign:{sm:"left"},children:(0,r.jsx)(o.Z,{pr:3,pb:2,minHeight:"5vh",children:t})}),(0,r.jsx)(a.ZP,{item:!0,xs:s[3],sm:s[4],md:s[5],children:(0,r.jsx)(o.Z,{minHeight:"5vh",children:(0,r.jsx)(i.Z,{color:"black",width:"100%",children:(0,r.jsx)("b",{children:n})})})})]})};t.Z=s},12313:function(e,t,n){"use strict";var r=n(85893),a=n(45697),o=n.n(a),i=n(90948);let s=(0,i.ZP)("span")(e=>{let{theme:t}=e;return"\n      background-color: ".concat(t.colors.alpha.black[5],";\n      padding: ").concat(t.spacing(.5,1),";\n      font-size: ").concat(t.typography.pxToRem(13),";\n      border-radius: ").concat(t.general.borderRadius,";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(t.spacing(3),";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(t.colors.primary.lighter,";\n          color: ").concat(t.palette.primary.main,"\n        }\n\n        &-black {\n          background-color: ").concat(t.colors.alpha.black[100],";\n          color: ").concat(t.colors.alpha.white[100],";\n        }\n        \n        &-secondary {\n          background-color: ").concat(t.colors.secondary.lighter,";\n          color: ").concat(t.palette.secondary.main,"\n        }\n        \n        &-success {\n          background-color: ").concat(t.colors.success.lighter,";\n          color: ").concat(t.palette.success.main,"\n        }\n        \n        &-warning {\n          background-color: ").concat(t.colors.warning.lighter,";\n          color: ").concat(t.palette.warning.main,"\n        }\n              \n        &-error {\n          background-color: ").concat(t.colors.error.lighter,";\n          color: ").concat(t.palette.error.main,"\n        }\n        \n        &-info {\n          background-color: ").concat(t.colors.info.lighter,";\n          color: ").concat(t.palette.info.main,"\n        }\n      }\n")}),l=e=>{let{className:t,color:n="secondary",children:a,...o}=e;return(0,r.jsx)(s,{className:"MuiLabel-"+n,...o,children:a})};l.propTypes={children:o().node,className:o().string,color:o().oneOf(["primary","black","secondary","error","warning","success","info"])},t.Z=l},87998:function(e,t,n){"use strict";var r=n(85893),a=n(45697),o=n.n(a),i=n(90948),s=n(86010);let l=(0,i.ZP)("span")(e=>{let{theme:t}=e;return"\n      display: inline-block;\n      align-items: center;\n\n      &.flexItem {\n        display: inline-flex;\n      }\n      \n      &.MuiText {\n\n        &-black {\n          color: ".concat(t.palette.common.black,"\n        }\n\n        &-primary {\n          color: ").concat(t.palette.primary.main,"\n        }\n        \n        &-secondary {\n          color: ").concat(t.palette.secondary.main,"\n        }\n        \n        &-success {\n          color: ").concat(t.palette.success.main,"\n        }\n        \n        &-warning {\n          color: ").concat(t.palette.warning.main,"\n        }\n              \n        &-error {\n          color: ").concat(t.palette.error.main,"\n        }\n        \n        &-info {\n          color: ").concat(t.palette.info.main,"\n        }\n      }\n")}),c=e=>{let{className:t,color:n="secondary",flex:a,children:o,...i}=e;return(0,r.jsx)(l,{className:(0,s.Z)("MuiText-"+n,{flexItem:a}),...i,children:o})};c.propTypes={children:o().node,className:o().string,color:o().oneOf(["primary","secondary","error","warning","success","info","black"])},t.Z=c}},function(e){e.O(0,[2456,896,5951,4738,1133,135,456,1529,8977,659,687,7171,6236,8955,9774,2888,179],function(){return e(e.s=10340)}),_N_E=e.O()}]);