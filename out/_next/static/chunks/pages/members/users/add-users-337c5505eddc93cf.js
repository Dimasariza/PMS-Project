(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3207],{68852:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),i=n(85893),l=(0,a.default)((0,i.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackTwoTone");t.Z=l},81198:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),i=n(85893),l=(0,a.default)((0,i.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlankTwoTone");t.Z=l},10258:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),i=n(85893),l=(0,a.default)([(0,i.jsx)("path",{d:"M5 5v14h14V7.83L16.17 5H5zm7 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-8H6V6h9v4z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"},"1")],"SaveTwoTone");t.Z=l},76742:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),i=n(85893),l=(0,a.default)([(0,i.jsx)("path",{d:"M9.83 8H11v6h2V8h1.17L12 5.83z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"m12 3-7 7h4v6h6v-6h4l-7-7zm1 5v6h-2V8H9.83L12 5.83 14.17 8H13zM5 18h14v2H5z"},"1")],"UploadTwoTone");t.Z=l},83886:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/members/users/add-users",function(){return n(43712)}])},43712:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var r=n(85893),a=n(9008),i=n.n(a),l=n(67346),s=n(86886),o=n(15861),c=n(11057),d=n(41664),p=n.n(d),h=n(10258),m=n(68852),u=n(83454),x=function(e){let{postData:t}=e,n=u.env.PUBLIC_URL||"";return(0,r.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(s.ZP,{item:!0,children:(0,r.jsx)(o.Z,{variant:"subtitle2",children:"Members/Titles/Add User"})}),(0,r.jsxs)(s.ZP,{item:!0,children:[(0,r.jsx)(p(),{href:n+"/batera/members/users",passHref:!0,children:(0,r.jsx)(c.Z,{sx:{mt:{xs:2,md:0},marginRight:2},variant:"contained",startIcon:(0,r.jsx)(m.Z,{fontSize:"small"}),children:"Back"})}),(0,r.jsx)(c.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,r.jsx)(h.Z,{fontSize:"small"}),onClick(){t()},children:"Save User"})]})]})},g=n(69598),j=n(65582),Z=n(1573),y=n(66242),f=n(67294);n(92077);var v=n(45697),w=n.n(v),k=n(2734),b=n(78445),S=n(67720),z=n(72882),C=n(7906),N=n(53184),L=n(53816),P=n(53252),T=n(295),U=n(93946),_=n(82302);n(12313);var D=n(4712),H=n(81198);let A=(e,t)=>e.filter(e=>{let n=!0;return t.status&&e.status!==t.status&&(n=!1),n}),I=(e,t,n)=>e.slice(t*n,t*n+n),R=e=>{let{titleList:t,handleUpdate:n}=e,[a,i]=(0,f.useState)(0),[l,s]=(0,f.useState)(5),[o,c]=(0,f.useState)({status:null}),d=A(t,o),p=I(d,a,l),h=(0,k.Z)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(b.Z,{title:"Title Access"}),(0,r.jsx)(S.Z,{}),(0,r.jsx)(z.Z,{children:(0,r.jsxs)(C.Z,{children:[(0,r.jsx)(N.Z,{children:(0,r.jsxs)(L.Z,{children:[(0,r.jsx)(P.Z,{align:"center",children:"Ship List"}),(0,r.jsx)(P.Z,{align:"center",children:"Ship Details"}),(0,r.jsx)(P.Z,{align:"center",children:"Unscheduled Job"}),(0,r.jsx)(P.Z,{align:"center",children:"Data Sheet"}),(0,r.jsx)(P.Z,{align:"center",children:"Stock"}),(0,r.jsx)(P.Z,{align:"center",children:"User"}),(0,r.jsx)(P.Z,{align:"center",children:"Department"}),(0,r.jsx)(P.Z,{align:"center",children:"Notification"}),(0,r.jsx)(P.Z,{align:"center",children:"Inbox"})]})}),(0,r.jsx)(T.Z,{children:p.map((e,t)=>(0,r.jsxs)(L.Z,{hover:!0,children:[(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"shipList",!e.shipList)},children:e.shipList?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"shipDetails",!e.shipDetails)},children:e.shipDetails?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"jobList",!e.jobList)},children:e.jobList?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"dataSheet",!e.dataSheet)},children:e.dataSheet?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"stock",!e.stock)},children:e.stock?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"users",!e.users)},children:e.users?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(_.Z,{title:"Department List Access",arrow:!0,children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"department",!e.department)},children:e.department?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"notification",!e.notification)},children:e.notification?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})}),(0,r.jsx)(P.Z,{align:"center",children:(0,r.jsx)(U.Z,{sx:{"&:hover":{background:h.colors.primary.lighter},color:h.palette.primary.main},size:"small",onClick(){n(e.id,"inbox",!e.inbox)},children:e.inbox?(0,r.jsx)(D.Z,{fontSize:"small",style:{color:"green"}}):(0,r.jsx)(H.Z,{fontSize:"small",style:{color:"grey"}})})})]},e.id))})]})})]})})};R.propTypes={titleList:w().array.isRequired},R.defaultProps={titleList:[]};var M=n(87357),B=n(50135),E=n(90948),O=n(6154),V=n(95519),F=n(73865),q=n(83454),W=function(e){let{inputedUser:t,setInputedUser:n,handleUpdate:a}=e,{user:i}=(0,f.useContext)(V.l),l=q.env.PUBLIC_URL||"",[s,o]=(0,f.useState)([{departmentCode:"100",departmentName:"Engine",workplace:"Ship"},{departmentCode:"200",departmentName:"Deck",workplace:"Ship"},{departmentCode:"300",departmentName:"Administrator",workplace:"Office"},{departmentCode:"400",departmentName:"Surveyor",workplace:"Ship"},{departmentCode:"500",departmentName:"Manager",workplace:"Office"}]),[c,d]=(0,f.useState)([{id:"1",titleName:"Admin"},{id:"2",titleName:"Captain"},{id:"3",titleName:"Chief Engineer"},{id:"4",titleName:"Chief Officer"},{id:"5",titleName:"Second Engineer"}]);(0,E.ZP)("input")({display:"none"}),(0,E.ZP)(M.Z)(e=>{let{theme:t}=e;return"\n      position: relative;\n      width: ".concat(t.spacing(4),";\n      height: ").concat(t.spacing(4),";\n  \n      .MuiIconButton-root {\n        border-radius: 100%;\n        background: ").concat(t.colors.primary.main,";\n        color: ").concat(t.palette.primary.contrastText,";\n        box-shadow: ").concat(t.colors.shadows.primary,";\n        width: 300%;\n        height: 300%;\n        padding: 0;\n    \n        &:hover {\n          background: ").concat(t.colors.primary.dark,";\n        }\n      }\n  ")});let[p,h]=(0,f.useState)(null),m=async()=>{try{let e=await O.Z.get("http://127.0.0.1:8000/api/v1/user_title",{headers:{Authorization:"Bearer ".concat(i.token)}}),t=e.data.data.results,r=[];t.map((e,t)=>{r.push({id:e.id,titleName:e.name})}),d(r),n(e=>({...e,title:t[0].id}))}catch(a){}},u=async()=>{try{let e=await O.Z.get("http://127.0.0.1:8000/api/v1/department",{headers:{Authorization:"Bearer ".concat(i.token)}}),t=e.data.data.results,r=[];t.map((e,t)=>{r.push({id:e.id,departmentName:e.name})}),o(r),n(e=>({...e,department:t[0].id}))}catch(a){}};(0,f.useEffect)(()=>{m(),u(),n(e=>({...e,workplace:x[0].value}))},[]);let[x,g]=(0,f.useState)([{workplace:"Ship",value:"ship"},{workplace:"Office",value:"office"}]),[j,Z]=(0,f.useState)(l+"/static/images/avatars/4.jpg");return(0,f.useEffect)(()=>{""==t.document?Z(l+"/static/images/avatars/4.jpg"):Z(URL.createObjectURL(t.document))},[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"2vh"},children:[(0,r.jsx)("div",{style:{width:"100%"},children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(b.Z,{title:"Add User"}),(0,r.jsx)(S.Z,{}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingLeft:"1vw",paddingRight:"1vw",width:"100%",gap:"2vh"},children:[(0,r.jsx)(B.Z,{sx:{width:"100%"},required:!0,label:"User Name",onChange:a("userName")}),(0,r.jsx)(B.Z,{sx:{width:"100%"},required:!0,label:"Full Name",onChange:a("fullName")}),(0,r.jsx)(B.Z,{sx:{width:"100%"},id:"outlined-select-currency-native",select:!0,label:"Title",value:t.title,onChange:a("title"),SelectProps:{native:!0},helperText:"Please select new user's department",children:c.map(e=>(0,r.jsx)("option",{value:e.id,children:e.titleName},e.titleName+"|"+e.id))}),(0,r.jsx)(B.Z,{sx:{width:"100%"},required:!0,label:"Email",onChange:a("email")}),(0,r.jsx)(B.Z,{sx:{width:"100%"},id:"outlined-select-currency-native",select:!0,label:"Departement",value:t.department,onChange:a("department"),SelectProps:{native:!0},helperText:"Please select new user's department",children:s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.departmentName},e.departmentName+"|"+e.id))}),(0,r.jsx)(B.Z,{sx:{width:"100%"},id:"outlined-select-currency-native",select:!0,label:"Workplace",value:t.workplace,onChange:a("workplace"),SelectProps:{native:!0},helperText:"Please select new user's workplace",children:x.map(e=>(0,r.jsx)("option",{value:e.value,children:e.workplace},e.workplace))}),(0,r.jsx)(B.Z,{sx:{width:"100%",marginBottom:"3%"},id:"outlined-password-input",label:"Password",required:!0,type:"password",autoComplete:"current-password",onChange:a("password")})]})]})}),(0,r.jsx)("div",{style:{width:"50%",height:"50vh"},children:(0,r.jsx)(F.Z,{title:"Add User Photo",target:"document",picLink:j,handleUpdate:a})})]})})};function X(){let{user:e}=(0,f.useContext)(V.l),[t,n]=(0,f.useState)({fullName:"",userName:"",title:"",email:"",workplace:"",status:"",department:"",password:"",document:""}),a=e=>t=>{"document"==e?n(n=>({...n,[e]:t})):n(n=>({...n,[e]:t.target.value}))},l=async()=>{let n=new FormData;n.append("username",t.userName),n.append("fullname",t.fullName),n.append("departmentId",t.department),n.append("email",t.email),n.append("password",t.password),n.append("userTitleId",t.title),n.append("workPlace",t.workplace),n.append("status",1),n.append("document",t.document);try{let r=await O.Z.post("http://127.0.0.1:8000/api/v1/user",n,{headers:{Authorization:"Bearer ".concat(e.token)}});console.log(r)}catch(a){console.log(a)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Add User"})}),(0,r.jsx)(g.Z,{children:(0,r.jsx)(x,{postData:l})}),(0,r.jsx)(j.Z,{maxWidth:"lg",children:(0,r.jsx)(s.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,r.jsx)(s.ZP,{item:!0,xs:12,children:(0,r.jsx)(W,{inputedUser:t,setInputedUser:n,handleUpdate:a})})})}),(0,r.jsx)(Z.Z,{})]})}X.getLayout=e=>(0,r.jsx)(l.Z,{children:e});var J=X},73865:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(85893),a=n(66242),i=n(78445),l=n(67720),s=n(87952),o=n(2734),c=n(93946),d=n(76742),p=n(90948),h=n(67294);let m=e=>{let{onUpload:t}=e,n=(0,o.Z)(),a={button:{backgroundColor:n.colors.primary.main,color:n.palette.primary.contrastText,boxShadow:n.colors.shadows.primary,borderRadius:"50%",height:{xs:"70%",sm:"70%",md:"70%",lg:"70%"},aspectRatio:"1/1",width:{xs:"70%",sm:"70%",md:"70%",lg:"70%"}},icon:{fontSize:"40"},input:{display:"none"}},[i,l]=(0,h.useState)(""),s=(0,h.useRef)(null),m=()=>{s&&s.current&&s.current.click()},u=e=>{let n=e.target.files[0];l(n.name),t(n)},x=(0,p.ZP)("input")({display:"none"});return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",alignItems:"center",padding:"1%",height:"20%"},children:[(0,r.jsx)(c.Z,{style:a.button,color:"primary",onClick:m,children:(0,r.jsx)(d.Z,{style:a.icon})}),(0,r.jsx)(x,{style:a.input,type:"file",ref:s,onChange:u})]})},u=e=>{let{title:t="Add Ship Picture",target:n="vesselImage",handleUpdate:o,picLink:c}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{sx:{height:"100%"},children:[(0,r.jsx)(i.Z,{title:t}),(0,r.jsx)(l.Z,{}),(0,r.jsx)("div",{style:{margin:"auto",display:"flex",justifyContent:"center"},children:(0,r.jsx)(s.Z,{variant:"rounded",src:c,sx:{width:{xs:"60%",sm:"60%",md:"60%",lg:"60%"},height:{xs:"60%",sm:"60%",md:"60%",lg:"60%"},aspectRatio:"4/3"}})})]}),(0,r.jsx)("div",{style:{position:"relative",bottom:"5rem",right:"1rem"},children:(0,r.jsx)(m,{onUpload:o(n)})})]})};var x=u},12313:function(e,t,n){"use strict";var r=n(85893),a=n(45697),i=n.n(a),l=n(90948);let s=(0,l.ZP)("span")(e=>{let{theme:t}=e;return"\n      background-color: ".concat(t.colors.alpha.black[5],";\n      padding: ").concat(t.spacing(.5,1),";\n      font-size: ").concat(t.typography.pxToRem(13),";\n      border-radius: ").concat(t.general.borderRadius,";\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      max-height: ").concat(t.spacing(3),";\n      \n      &.MuiLabel {\n        &-primary {\n          background-color: ").concat(t.colors.primary.lighter,";\n          color: ").concat(t.palette.primary.main,"\n        }\n\n        &-black {\n          background-color: ").concat(t.colors.alpha.black[100],";\n          color: ").concat(t.colors.alpha.white[100],";\n        }\n        \n        &-secondary {\n          background-color: ").concat(t.colors.secondary.lighter,";\n          color: ").concat(t.palette.secondary.main,"\n        }\n        \n        &-success {\n          background-color: ").concat(t.colors.success.lighter,";\n          color: ").concat(t.palette.success.main,"\n        }\n        \n        &-warning {\n          background-color: ").concat(t.colors.warning.lighter,";\n          color: ").concat(t.palette.warning.main,"\n        }\n              \n        &-error {\n          background-color: ").concat(t.colors.error.lighter,";\n          color: ").concat(t.palette.error.main,"\n        }\n        \n        &-info {\n          background-color: ").concat(t.colors.info.lighter,";\n          color: ").concat(t.palette.info.main,"\n        }\n      }\n")}),o=e=>{let{className:t,color:n="secondary",children:a,...i}=e;return(0,r.jsx)(s,{className:"MuiLabel-"+n,...i,children:a})};o.propTypes={children:i().node,className:i().string,color:i().oneOf(["primary","black","secondary","error","warning","success","info"])},t.Z=o}},function(e){e.O(0,[2456,896,5951,4738,1133,135,456,1529,8977,659,687,6236,8955,9774,2888,179],function(){return e(e.s=83886)}),_N_E=e.O()}]);